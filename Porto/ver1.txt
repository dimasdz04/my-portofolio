<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineer Portfolio</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. CSS VARIABLES & THEME SETUP --- */
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 85px; 
        }

        :root {
            --primary-color: #2563eb; 
            --secondary-color: #64748b;
            --bg-color: #ffffff;
            --card-bg: #f8fafc;
            --text-main: #1e293b;
            --text-light: #64748b;
            --border-color: #e2e8f0;
            --nav-bg: rgba(255, 255, 255, 0.9);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary-color: #60a5fa;
            --secondary-color: #94a3b8;
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-main: #f1f5f9;
            --text-light: #cbd5e1;
            --border-color: #334155;
            --nav-bg: rgba(15, 23, 42, 0.9);
            --shadow: 0 4px 20px -1px rgba(0, 0, 0, 0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            transition: var(--transition);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- 2. COMPONENTS --- */
        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }

        .btn {
            display: inline-block; padding: 10px 24px;
            background: var(--primary-color); color: white;
            border-radius: 6px; text-decoration: none; font-weight: 600;
            transition: var(--transition); border: none; cursor: pointer;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.3); }
        .btn-outline { background: transparent; border: 2px solid var(--primary-color); color: var(--primary-color); }
        .btn-outline:hover { background: var(--primary-color); color: white; }

        .section-title { text-align: center; font-size: 2rem; margin-bottom: 3rem; position: relative; }
        .section-title::after { content: ''; display: block; width: 60px; height: 4px; background: var(--primary-color); margin: 10px auto; border-radius: 2px; }

        /* --- 3. NAVBAR --- */
        .navbar {
            position: fixed; top: 0; width: 100%;
            background: var(--nav-bg); backdrop-filter: blur(10px);
            z-index: 1000; padding: 1.2rem 0;
            transition: var(--transition); border-bottom: 1px solid var(--border-color);
        }
        .navbar.shrink { padding: 0.8rem 0; box-shadow: var(--shadow); }
        .nav-content { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: 700; color: var(--primary-color); }
        .nav-links { list-style: none; display: flex; gap: 20px; align-items: center; }
        .nav-links a { text-decoration: none; color: var(--text-main); font-weight: 500; transition: color 0.3s; }
        .nav-links a:hover { color: var(--primary-color); }
        .nav-controls { display: flex; gap: 15px; align-items: center; }
        .control-btn { background: none; border: none; font-size: 1.2rem; cursor: pointer; color: var(--text-main); transition: transform 0.3s; }
        .control-btn:hover { transform: rotate(15deg) scale(1.1); }

        /* --- 4. HERO SECTION (3D Tilt Effect retained) --- */
        .hero { 
            height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            text-align: center; 
            padding-top: 60px; 
            animation: fadeIn 1s ease-out;
            perspective: 1000px;
        }

        .hero-img-container {
            width: 250px;
            height: 250px;
            margin: 0 auto 20px;
            border-radius: 50%;
            border: 4px solid var(--card-bg);
            position: relative;
            transition: transform 0.1s ease-out;
            transform-style: preserve-3d;
            box-shadow: var(--shadow);
            cursor: pointer;
            background: #fff;
            overflow: hidden;
        }

        .hero-img-container::after {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, transparent 100%);
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            border-radius: 50%;
            z-index: 2;
        }
        
        .hero-img-container:hover::after { opacity: 1; }

        .hero-img { 
            width: 100%; height: 100%; 
            object-fit: cover; 
            border-radius: 50%;
            pointer-events: none;
        }

        .hero h1 { font-size: 3rem; margin-bottom: 10px; }
        .hero p { font-size: 1.2rem; color: var(--text-light); margin-bottom: 30px; }
        .hero-buttons { display: flex; gap: 15px; justify-content: center; }

        /* --- 5. ABOUT SECTION --- */
        .about-content { display: grid; grid-template-columns: 1fr 1.5fr; gap: 40px; align-items: center; }
        .about-img { width: 100%; border-radius: 12px; box-shadow: var(--shadow); }
        .skills-container { margin-top: 20px; display: flex; flex-wrap: wrap; gap: 10px; }
        .skill-pill { background: var(--card-bg); border: 1px solid var(--border-color); padding: 6px 14px; border-radius: 20px; font-size: 0.9rem; color: var(--text-light); }

        /* --- 6. GRID LAYOUT (Restored) --- */
        .grid-layout {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding-bottom: 4rem;
        }

        .card { 
            background: var(--card-bg); 
            border: 1px solid var(--border-color); 
            border-radius: 12px; 
            overflow: hidden; 
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }
        
        .card:hover { 
            transform: translateY(-8px); 
            box-shadow: var(--shadow); 
            border-color: var(--primary-color);
        }

        .card-img { width: 100%; height: 180px; object-fit: cover; border-bottom: 1px solid var(--border-color); }
        .card-body { padding: 20px; }
        .card-title { font-size: 1.2rem; margin-bottom: 10px; }
        .card-desc { font-size: 0.95rem; color: var(--text-light); margin-bottom: 15px; }
        .tech-stack { font-size: 0.85rem; color: var(--primary-color); margin-bottom: 15px; font-weight: 600; }

        /* --- 7. CONTACT & FOOTER --- */
        .contact-section { text-align: center; padding: 4rem 0; }
        .social-icons { display: flex; justify-content: center; gap: 20px; margin-top: 30px; }
        .social-icon { font-size: 1.8rem; color: var(--text-main); transition: var(--transition); }
        .social-icon:hover { color: var(--primary-color); transform: translateY(-5px); text-shadow: 0 0 10px var(--primary-color); }
        footer { background: var(--card-bg); text-align: center; padding: 2rem; border-top: 1px solid var(--border-color); color: var(--text-light); }

        /* --- 8. MODAL --- */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center; padding: 20px; opacity: 0; transition: opacity 0.3s; }
        .modal.active { display: flex; opacity: 1; }
        .modal-content { background: var(--bg-color); width: 100%; max-width: 700px; border-radius: 12px; position: relative; overflow: hidden; max-height: 90vh; overflow-y: auto; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer; color: var(--text-main); z-index: 10; }
        .modal-img { width: 100%; height: 300px; object-fit: cover; }
        .modal-body { padding: 30px; }
        .modal-info { margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--border-color); }
        .modal-label { font-weight: bold; color: var(--text-main); display: block; margin-top: 10px; }
        .modal-text { color: var(--text-light); }

        /* --- ANIMATIONS --- */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .about-content { grid-template-columns: 1fr; text-align: center; }
            .hero h1 { font-size: 2.2rem; }
            .nav-links { display: none; }
        }
        section { padding: 80px 0; }
    </style>
</head>
<body>

    <nav class="navbar" id="navbar">
        <div class="container nav-content">
            <div class="logo">Eng<span style="color:var(--text-main)">ineer.</span></div>
            <ul class="nav-links">
                <li><a href="#hero" data-i18n="navHome">Home</a></li>
                <li><a href="#about" data-i18n="navAbout">About</a></li>
                <li><a href="#projects" data-i18n="navProjects">Projects</a></li>
                <li><a href="#certificates" data-i18n="navCert">Certificates</a></li>
                <li><a href="#contact" data-i18n="navContact">Contact</a></li>
            </ul>
            <div class="nav-controls">
                <button class="control-btn" id="lang-toggle">ðŸ‡®ðŸ‡©</button>
                <button class="control-btn" id="theme-toggle"><i class="fas fa-moon"></i></button>
            </div>
        </div>
    </nav>

    <section id="hero" class="hero">
        <div class="container">
            <div class="hero-img-container">
                <img src="https://ui-avatars.com/api/?name=Engineer+Dev&background=random&size=200" alt="Profile" class="hero-img">
            </div>
            <h1 id="hero-name">Alex Engineer</h1>
            <p id="hero-tagline" data-i18n="tagline">Engineer | Problem Solver | Technology Enthusiast</p>
            <div class="hero-buttons">
                <a href="#projects" class="btn" data-i18n="btnProjects">View Projects</a>
                <a href="#contact" class="btn btn-outline" data-i18n="btnContact">Contact Me</a>
            </div>
        </div>
    </section>

    <section id="about">
        <div class="container">
            <h2 class="section-title" data-i18n="navAbout">About Me</h2>
            <div class="about-content">
                <div>
                    <img src="https://images.unsplash.com/photo-1581092921461-eab62e97a783?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Working" class="about-img">
                </div>
                <div>
                    <h3 style="margin-bottom:15px; font-size:1.5rem;" data-i18n="aboutHeading">Professional Background</h3>
                    <p style="color:var(--text-light)" data-i18n="aboutText">
                        I am a dedicated Engineer with a passion for developing innovative solutions. With a strong foundation in embedded systems and software development, I strive to bridge the gap between hardware and software. I value clean code, efficiency, and continuous learning.
                    </p>
                    <div class="skills-container">
                        <span class="skill-pill">Embedded Systems</span>
                        <span class="skill-pill">IoT Development</span>
                        <span class="skill-pill">C++ / Python</span>
                        <span class="skill-pill">PCB Design</span>
                        <span class="skill-pill">ROS</span>
                        <span class="skill-pill">React.js</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="projects" style="background: var(--card-bg);">
        <div class="container">
            <h2 class="section-title" data-i18n="navProjects">Projects</h2>
            <div class="grid-layout" id="project-grid">
                <p style="text-align:center; width:100%;">Loading projects...</p>
            </div>
        </div>
    </section>

    <section id="certificates">
        <div class="container">
            <h2 class="section-title" data-i18n="navCert">Certificates</h2>
            <div class="grid-layout" id="cert-grid">
                <p style="text-align:center; width:100%;">Loading certificates...</p>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container contact-section">
            <h2 class="section-title" data-i18n="navContact">Get In Touch</h2>
            <p data-i18n="contactText">Interested in collaborating or have a question? Feel free to reach out.</p>
            <div class="social-icons">
                <a href="#" class="social-icon"><i class="fab fa-linkedin"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                <a href="mailto:email@example.com" class="social-icon"><i class="fas fa-envelope"></i></a>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2023 Alex Engineer. <span data-i18n="footerRights">All rights reserved.</span></p>
    </footer>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <img src="" alt="" class="modal-img" id="m-img">
            <div class="modal-body">
                <h2 id="m-title" style="margin-bottom:10px;">Title</h2>
                <div class="modal-info">
                    <span class="modal-label" data-i18n="modalRole">Role / Issuer:</span>
                    <span id="m-role" class="modal-text">...</span>
                    
                    <span class="modal-label" data-i18n="modalTech">Tools / Date:</span>
                    <span id="m-tools" class="modal-text">...</span>
                </div>
                <p id="m-desc" class="modal-text">Description goes here...</p>
                <br>
                <a href="#" id="m-link" class="btn" target="_blank">View Link</a>
            </div>
        </div>
    </div>

    <script>
        // --- GLOBAL VARIABLES ---
        let projectsData = [];
        let certsData = [];

        // --- TRANSLATION DICTIONARY ---
        const translations = {
            en: {
                navHome: "Home", navAbout: "About", navProjects: "Projects", navCert: "Certificates", navContact: "Contact",
                tagline: "Engineer | Problem Solver | Technology Enthusiast",
                btnProjects: "View Projects", btnContact: "Contact Me",
                aboutHeading: "Professional Background",
                aboutText: "I am a dedicated Engineer with a passion for developing innovative solutions. With a strong foundation in embedded systems and software development, I strive to bridge the gap between hardware and software. I value clean code, efficiency, and continuous learning.",
                contactText: "Interested in collaborating or have a question? Feel free to reach out.",
                footerRights: "All rights reserved.",
                modalRole: "Role / Issuer:", modalTech: "Tools / Date:", viewLink: "Visit Link"
            },
            id: {
                navHome: "Beranda", navAbout: "Tentang", navProjects: "Proyek", navCert: "Sertifikat", navContact: "Kontak",
                tagline: "Engineer | Pemecah Masalah | Antusias Teknologi",
                btnProjects: "Lihat Proyek", btnContact: "Hubungi Saya",
                aboutHeading: "Latar Belakang Profesional",
                aboutText: "Saya adalah seorang Engineer yang berdedikasi dengan semangat untuk mengembangkan solusi inovatif. Dengan fondasi yang kuat dalam sistem tertanam dan pengembangan perangkat lunak, saya berusaha menjembatani kesenjangan antara perangkat keras dan lunak.",
                contactText: "Tertarik untuk berkolaborasi atau punya pertanyaan? Jangan ragu untuk menghubungi.",
                footerRights: "Hak cipta dilindungi.",
                modalRole: "Peran / Penerbit:", modalTech: "Tools / Tanggal:", viewLink: "Kunjungi Link"
            }
        };

        // --- APP STATE ---
        let currentLang = localStorage.getItem('lang') || 'en';
        let currentTheme = localStorage.getItem('theme') || 'light';

        // --- DOM ELEMENTS ---
        const htmlEl = document.documentElement;
        const themeBtn = document.getElementById('theme-toggle');
        const langBtn = document.getElementById('lang-toggle');
        const navbar = document.getElementById('navbar');
        const modal = document.getElementById('modal');
        const closeModal = document.querySelector('.close-modal');

        // --- INITIALIZATION WITH FETCH ---
        function init() {
            setTheme(currentTheme);
            setLanguage(currentLang);
            
            // FETCH JSON DATA
            fetch('data.json')
                .then(response => {
                    if (!response.ok) throw new Error("Gagal mengambil data JSON");
                    return response.json();
                })
                .then(data => {
                    projectsData = data.projects;
                    certsData = data.certificates;
                    renderProjects();
                    renderCerts();
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('project-grid').innerHTML = '<p style="color:red">Error loading data. Please run on a local server (CORS).</p>';
                });
        }

        // --- THEME LOGIC ---
        function setTheme(theme) {
            htmlEl.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            currentTheme = theme;
            themeBtn.innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        }
        themeBtn.addEventListener('click', () => setTheme(currentTheme === 'light' ? 'dark' : 'light'));

        // --- LANGUAGE LOGIC ---
        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            langBtn.textContent = lang === 'en' ? 'ðŸ‡®ðŸ‡©' : 'ðŸ‡ºðŸ‡¸';
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang][key]) el.textContent = translations[lang][key];
            });

            if(projectsData.length > 0) {
                renderProjects();
                renderCerts();
            }
        }
        langBtn.addEventListener('click', () => setLanguage(currentLang === 'en' ? 'id' : 'en'));

        // --- RENDER FUNCTIONS (GRID) ---
        function renderProjects() {
            const container = document.getElementById('project-grid');
            container.innerHTML = projectsData.map(p => `
                <div class="card" onclick="openModal('project', ${p.id})">
                    <img src="${p.img}" alt="${p.title}" class="card-img">
                    <div class="card-body">
                        <h3 class="card-title">${p.title}</h3>
                        <p class="tech-stack">${p.tools}</p>
                        <p class="card-desc">${currentLang === 'en' ? p.desc_en.substring(0, 80) + '...' : p.desc_id.substring(0, 80) + '...'}</p>
                    </div>
                </div>
            `).join('');
        }

        function renderCerts() {
            const container = document.getElementById('cert-grid');
            container.innerHTML = certsData.map(c => `
                <div class="card" onclick="openModal('cert', ${c.id})">
                    <img src="${c.img}" alt="${c.title}" class="card-img">
                    <div class="card-body">
                        <h3 class="card-title">${c.title}</h3>
                        <p class="card-desc">${c.issuer} - ${c.date}</p>
                    </div>
                </div>
            `).join('');
        }

        // --- MODAL LOGIC ---
        window.openModal = function(type, id) {
            const data = type === 'project' ? projectsData.find(p => p.id === id) : certsData.find(c => c.id === id);
            if(!data) return;

            const t = translations[currentLang];
            
            document.getElementById('m-img').src = data.img;
            document.getElementById('m-title').textContent = data.title;
            document.getElementById('m-desc').textContent = currentLang === 'en' ? data.desc_en : data.desc_id;
            document.getElementById('m-link').textContent = t.viewLink;
            document.getElementById('m-link').href = data.link;

            if(type === 'project') {
                document.getElementById('m-role').textContent = currentLang === 'en' ? data.role_en : data.role_id;
                document.getElementById('m-tools').textContent = data.tools;
            } else {
                document.getElementById('m-role').textContent = data.issuer;
                document.getElementById('m-tools').textContent = data.date;
            }
            modal.classList.add('active');
        };

        closeModal.addEventListener('click', () => modal.classList.remove('active'));
        modal.addEventListener('click', (e) => { if (e.target === modal) modal.classList.remove('active'); });

        // --- NAVBAR SCROLL ---
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) navbar.classList.add('shrink');
            else navbar.classList.remove('shrink');
        });

        // --- 3D TILT LOGIC (Hero) ---
        const heroImg = document.querySelector('.hero-img-container');
        if(heroImg) {
            heroImg.addEventListener('mousemove', (e) => {
                const rect = heroImg.getBoundingClientRect();
                const x = e.clientX - rect.left; 
                const y = e.clientY - rect.top; 
                const xPct = (x / rect.width) - 0.5;
                const yPct = (y / rect.height) - 0.5;
                const rotateX = yPct * -20; 
                const rotateY = xPct * 20;  
                heroImg.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.1)`;
            });
            heroImg.addEventListener('mouseleave', () => {
                heroImg.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)';
            });
        }

        init();
    </script>
</body>
</html>