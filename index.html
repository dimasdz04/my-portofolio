<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dimas Dzikra Pratama | Portfolio</title>
    
    <link rel="icon" href="images/DP.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Oswald:wght@500;700&family=Playfair+Display:ital,wght@1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. CORE VARIABLES --- */
        html { scroll-behavior: smooth; }

        :root {
            /* Warna Utama */
            --primary: #3b82f6;       
            --primary-dark: #2563eb;
            --accent: #60a5fa;
            
            /* Light Mode Variables */
            --bg-body: #ffffff;
            --bg-section: #f8fafc;
            --text-main: #0f172a;  /* Hitam */
            --text-muted: #64748b;
            --border: #0f172a;        
            --card-bg: #ffffff;
            --sidebar-width: 450px;
        }

        [data-theme="dark"] {
            /* Dark Mode Variables */
            --primary: #3b82f6;
            --primary-dark: #60a5fa;
            --accent: #38bdf8;
            
            --bg-body: #020617;       
            --bg-section: #0f172a;
            --text-main: #f8fafc;  /* Putih */
            --text-muted: #94a3b8;
            --border: #f8fafc;        
            --card-bg: #1e293b;
        }

        /* --- FIX: SCROLLBAR --- */
        html, body { width: 100%; overflow-x: hidden; }
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-body); }
        ::-webkit-scrollbar-thumb { background-color: var(--text-muted); border-radius: 10px; border: 3px solid var(--bg-body); }
        ::-webkit-scrollbar-thumb:hover { background-color: var(--primary); }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            transition: background 0.3s, color 0.3s;
        }

        body.loading { overflow: hidden; }

        h1, h2, h3, .marquee-text, .nav-logo, .sidebar-link, .cta-btn, .highlight-label {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
        }

        /* --- 2. LOADER --- */
        #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #3b82f6; z-index: 9999; display: flex; justify-content: center; align-items: center; transition: opacity 0.8s ease-out, visibility 0.8s; }
        #loader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        #loader img { width: 150px; height: auto; object-fit: contain; display: block; }

        /* --- 3. ANIMATION --- */
        .reveal { opacity: 0; transform: translateY(100px); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); filter: blur(5px); }
        .reveal.active { opacity: 1; transform: translateY(0); filter: blur(0); }
        .delay-100 { transition-delay: 0.1s; }
        .delay-200 { transition-delay: 0.15s; }
        .delay-300 { transition-delay: 0.2s; }

        /* --- 4. NAVBAR --- */
        .navbar { position: fixed; top: 0; width: 100%; padding: 20px 40px; display: flex; justify-content: space-between; align-items: flex-start; background: transparent; backdrop-filter: none; z-index: 1000; border-bottom: none; transition: transform 0.3s ease; }
        .nav-logo { font-size: 1.8rem; font-weight: 700; letter-spacing: 1px; z-index: 3001; display: flex; align-items: center; }
        
        /* LOGO TRANSITION SYSTEM */
        .logo-container { position: relative; width: auto; margin-bottom: 20px; }
        .logo-img { height: 100%; width: auto; object-fit: contain; display: block; transition: opacity 0.5s ease-in-out; }
        
        /* Default (Light Mode): Light Logo Visible, Dark Logo Hidden */
        .logo-light { opacity: 1; }
        .logo-dark { position: absolute; top: 0; left: 0; opacity: 0; }
        
        /* Dark Mode: Light Logo Hidden, Dark Logo Visible */
        [data-theme="dark"] .logo-light { opacity: 0; }
        [data-theme="dark"] .logo-dark { opacity: 1; }

        .nav-actions { display: flex; gap: 15px; align-items: center; z-index: 3001; }
        .icon-btn { background: none; border: 2px solid var(--border); color: var(--text-main); padding: 8px 16px; cursor: pointer; font-weight: bold; font-family: 'Oswald'; transition: all 0.2s; display: flex; align-items: center; gap: 8px; }
        .icon-btn:hover { background: var(--text-main); color: var(--bg-body); }

        /* --- 5. SIDEBAR --- */
        .menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); z-index: 2000; opacity: 0; pointer-events: none; transition: opacity 0.4s ease; }
        .menu-overlay.active { opacity: 1; pointer-events: all; }
        .sidebar { position: fixed; top: 0; right: -100%; width: var(--sidebar-width); height: 100vh; background: var(--bg-body); border-left: 2px solid var(--border); z-index: 2001; padding: 100px 50px; display: flex; flex-direction: column; justify-content: center; transition: right 0.6s cubic-bezier(0.7, 0, 0.3, 1); }
        .sidebar.active { right: 0; }
        .sidebar-header { position: absolute; top: 30px; left: 50px; font-family: 'Inter'; font-size: 0.8rem; letter-spacing: 2px; color: var(--text-muted); text-transform: uppercase; }
        .sidebar-links { list-style: none; }
        .sidebar-item { margin-bottom: 25px; opacity: 0; transform: translateX(30px); transition: 0.4s; }
        .sidebar.active .sidebar-item { opacity: 1; transform: translateX(0); }
        .sidebar-link { text-decoration: none; color: var(--text-main); font-size: 3rem; line-height: 1; display: flex; align-items: baseline; gap: 20px; transition: color 0.3s; position: relative; }
        .link-num { font-family: 'Inter'; font-size: 1rem; color: var(--primary); font-weight: bold; }
        .sidebar-link:hover { color: var(--primary); }
        .sidebar-link::after { content: ''; position: absolute; left: 0; top: 50%; width: 0; height: 4px; background: var(--primary); transition: width 0.3s ease; z-index: -1; }
        .sidebar-link:hover::after { width: 100%; }
        .close-btn { position: absolute; top: 20px; right: 40px; background: none; border: none; font-size: 2rem; color: var(--text-main); cursor: pointer; }

        /* --- 6. HERO --- */
        .hero { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 100px 20px 40px; position: relative; }
        .hero-img-container { width: 300px; height: 300px; margin-bottom: 30px; position: relative; border-radius: 50%; perspective: 1000px; transform-style: preserve-3d; cursor: pointer; }
        .hero-img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 4px solid var(--border); box-shadow: 10px 10px 0px var(--primary); transition: transform 0.1s; }
        .hero h1 { font-size: 5rem; line-height: 0.9; margin-bottom: 20px; text-shadow: 3px 3px 0px var(--text-muted); }
        .hero p { font-size: 1.2rem; max-width: 600px; margin: 0 auto 30px; font-family: 'Inter'; }
        .cta-btn { display: inline-block; padding: 15px 40px; background: var(--primary); color: white; font-family: 'Oswald', sans-serif; font-size: 1.2rem; text-decoration: none; border: 2px solid var(--border); box-shadow: 5px 5px 0px var(--text-main); transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .cta-btn:hover { transform: translate(-2px, -2px); box-shadow: 7px 7px 0px var(--text-main); }
        .cta-btn-outline { background: transparent; color: var(--primary); border-color: var(--primary); box-shadow: 5px 5px 0px var(--primary); }
        .cta-btn-outline:hover { transform: translate(-2px, -2px); box-shadow: 7px 7px 0px var(--primary); background: var(--primary); color: white; }

        /* --- 7. MARQUEE --- */
        .marquee-container { background: var(--primary); color: white; padding: 20px 0; overflow: hidden; border-top: 2px solid var(--border); border-bottom: 2px solid var(--border); white-space: nowrap; transform: rotate(-1deg); width: 105%; margin-left: -2.5%; margin-bottom: 60px; opacity: 0; transition: opacity 1s ease; }
        .marquee-container.active { opacity: 1; }
        .marquee-content { display: inline-block; animation: scroll 20s linear infinite; }
        .marquee-text { font-size: 3rem; margin-right: 50px; font-weight: 700; display: inline-block; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* --- 8. ABOUT --- */
        .creative-about-section { padding: 80px 20px; max-width: 1200px; margin: 0 auto; }
        .creative-grid { display: grid; grid-template-columns: 1.5fr 1fr; grid-template-rows: auto auto; gap: 40px; }
        .grid-item { position: relative; }
        .profile-frame { position: relative; border: 2px solid var(--border); box-shadow: 10px 10px 0px var(--text-muted); transition: transform 0.3s; }
        .profile-frame:hover { transform: translateY(-5px); }
        .profile-frame img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .highlight-label { position: absolute; top: -15px; left: -10px; background: var(--primary); color: white; padding: 5px 10px; font-size: 0.8rem; font-weight: bold; border: 2px solid var(--border); z-index: 2; }
        .signature-quote { font-family: 'Playfair Display', serif; font-size: 2.5rem; line-height: 1.2; font-style: italic; color: var(--text-main); margin-bottom: 20px; }
        .stats-box { background: var(--bg-section); border: 2px solid var(--border); padding: 20px; display: flex; gap: 20px; }
        .stat-item h4 { font-size: 2rem; color: var(--primary); margin-bottom: 0; }
        .stat-item span { font-size: 0.8rem; font-family: 'Inter'; text-transform: uppercase; color: var(--text-muted); }

        /* --- 9. PROJECTS --- */
        .section-container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .section-header { font-size: 3rem; margin-bottom: 40px; border-left: 10px solid var(--primary); padding-left: 20px; }
        .project-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .card { background: var(--card-bg); border: 2px solid var(--border); transition: all 0.3s; cursor: pointer; overflow: hidden; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-5px); box-shadow: 8px 8px 0px var(--text-muted); }
        .card-img-wrapper { height: 250px; overflow: hidden; border-bottom: 2px solid var(--border); }
        .card-img { width: 100%; height: 100%; object-fit: cover; transition: scale 0.4s; }
        .card:hover .card-img { scale: 1.1; }
        .card-body { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .card-title { font-size: 1.5rem; margin-bottom: 10px; }
        .card-tags { font-size: 0.8rem; color: var(--primary); font-weight: bold; text-transform: uppercase; margin-bottom: 10px; }
        .card-desc { font-size: 0.9rem; color: var(--text-muted); }

        /* --- 10. FOOTER --- */
        footer { 
            /* BACKGROUND TETAP BIRU DI KEDUA MODE */
            background: var(--primary); 
            border-top: 2px solid var(--border); 
            padding: 80px 20px 20px 20px; 
            margin-top: 80px; 
            transition: background 0.3s, color 0.3s;
        }

        .footer-content { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        
        /* === LOGIKA LIGHT MODE (DEFAULT) === */
        /* Text, Icon, Paragraph: HITAM */
        .footer-links a, .social-icon, footer p, .copyright-section p { 
            color: #000000; 
            display: block; text-decoration: none; transition: 0.3s;
        }
        .social-icon { display: inline-block; }
        .footer-links a { font-family: 'Oswald'; font-size: 2rem; margin-bottom: 10px; }
        .social-bar { display: flex; gap: 20px; margin-top: 30px; font-size: 2rem; }

        /* Hover Light Mode: Jadi PUTIH */
        .footer-links a:hover, .social-icon:hover { 
            color: #ffffff; 
        }
        .footer-links a:hover { padding-left: 15px; }
        .social-icon:hover { transform: scale(1.2); }

        /* Button Light Mode: Background PUTIH */
        footer .cta-btn { background: #000000; color: var(--primary); border-color: #000000; }
        footer .cta-btn:hover { background: var(--text-main); color: #ffffff; border-color: var(--text-main); }


        /* === LOGIKA DARK MODE === */
        /* Text, Icon, Paragraph: PUTIH */
        [data-theme="dark"] .footer-links a,
        [data-theme="dark"] .social-icon,
        [data-theme="dark"] footer p,
        [data-theme="dark"] .copyright-section p { 
            color: #ffffff !important; 
        }

        /* Hover Dark Mode: Jadi HITAM (Kebalikan) */
        [data-theme="dark"] .footer-links a:hover,
        [data-theme="dark"] .social-icon:hover { 
            color: #000000 !important; 
        }

        /* Button Dark Mode: Background HITAM */
        [data-theme="dark"] footer .cta-btn { background: #ffffff; color: var(--primary); border-color: #ffffff; }
        [data-theme="dark"] footer .cta-btn:hover { background: #ffffff; color: #000000; border-color: #ffffff; }


        .copyright-section { text-align: center; margin-top: 50px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.3); }
        .copyright-section p { font-size: 0.9rem; font-family: 'Inter', sans-serif; text-transform: uppercase; letter-spacing: 1px; }

        /* --- 11. MODAL --- */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 4000; justify-content: center; align-items: center; padding: 20px; opacity: 0; transition: opacity 0.3s; }
        .modal.active { display: flex; opacity: 1; }
        .modal-content { background: var(--bg-body); width: 100%; max-width: 800px; border: 2px solid var(--border); max-height: 90vh; overflow-y: auto; }
        .close-modal-content { position: absolute; top: 15px; right: 20px; font-size: 2rem; cursor: pointer; color: var(--text-main); }
        .modal-img { width: 100%; height: 400px; object-fit: cover; border-bottom: 2px solid var(--border); }
        .modal-body { padding: 40px; }

        @media (max-width: 768px) {
            .sidebar { width: 100%; } 
            .hero h1 { font-size: 3rem; }
            .creative-grid { grid-template-columns: 1fr; }
            .footer-content { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body class="loading">

    <div id="loader">
        <img src="videos/logo.gif" alt="Loading...">
    </div>

    <nav class="navbar" id="navbar">
        <div class="nav-logo">
            <div class="logo-container" style="height: 80px;">
                <img src="images/DP2.png" alt="Dimas Logo" class="logo-img logo-light">
                <img src="images/DP3.png" alt="Dimas Logo" class="logo-img logo-dark">
            </div>
        </div>
        <div class="nav-actions">
            <button class="icon-btn" id="lang-toggle">ID</button>
            <button class="icon-btn" id="theme-toggle"><i class="fas fa-moon"></i></button>
            <button class="icon-btn" onclick="toggleSidebar()" style="background:var(--primary); color:white; border-color:var(--primary);">
                MENU <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <div class="menu-overlay" id="overlay" onclick="toggleSidebar()"></div>
    <div class="sidebar" id="sidebar">
        <button class="close-btn" onclick="toggleSidebar()">&times;</button>
        <div class="sidebar-header">SELECT CHAPTER</div>
        <ul class="sidebar-links">
            <li class="sidebar-item"><a href="#hero" class="sidebar-link" onclick="toggleSidebar()"><span class="link-num">01</span> THE HERO</a></li>
            <li class="sidebar-item"><a href="#about" class="sidebar-link" onclick="toggleSidebar()"><span class="link-num">02</span> THE JOURNEY</a></li>
            <li class="sidebar-item"><a href="#projects" class="sidebar-link" onclick="toggleSidebar()"><span class="link-num">03</span> THE WORK</a></li>
            <li class="sidebar-item"><a href="#certificates" class="sidebar-link" onclick="toggleSidebar()"><span class="link-num">04</span> THE PROOF</a></li>
            <li class="sidebar-item"><a href="#contact" class="sidebar-link" onclick="toggleSidebar()"><span class="link-num">05</span> CONTACT</a></li>
        </ul>
    </div>

    <section class="hero" id="hero">
        <div class="hero-img-container reveal" id="hero-tilt">
            <img src="images/foto.jpg" alt="Profile" class="hero-img">
        </div>
        <h1 id="hero-title" class="reveal delay-100">ENGINEER.<br>SOLVER.<br>MAKER.</h1>
        <p data-i18n="tagline" class="reveal delay-200">Redefining the limits of hardware and software integration.</p>
        
        <div class="reveal delay-300" style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <a href="#projects" class="cta-btn" data-i18n="btnProjects">VIEW PROJECTS</a>
            
            <a id="cv-btn" href="#" class="cta-btn cta-btn-outline" target="_blank" download>
                DOWNLOAD CV
            </a>
        </div>
    </section>

    <div class="marquee-container reveal">
        <div class="marquee-content">
            <span class="marquee-text">INNOVATING SYSTEMS • BUILDING LEGACY • MACHINE LEARNING • IOT SOLUTIONS • NETWORKING • </span>
            <span class="marquee-text">INNOVATING SYSTEMS • BUILDING LEGACY • MACHINE LEARNING • IOT SOLUTIONS • NETWORKING • </span>
        </div>
    </div>

    <section class="creative-about-section" id="about">
        <h2 class="section-header reveal" data-i18n="navAbout">ABOUT ME</h2>
        <div class="creative-grid">
            
            <div class="grid-item reveal delay-100">
                <div class="profile-frame" style="height: 400px;">
                    <span class="highlight-label">IPB UNIVERSITY</span>
                    <img src="images/IPB.jpg" alt="Graduation">
                </div>
            </div>

            <div class="grid-item reveal delay-200" style="display: flex; flex-direction: column; justify-content: center;">
                <div class="signature-quote">
                    "Indeed, God would never change a people’s state until they change their own state."
                </div>
                <div class="stats-box">
                    <div class="stat-item">
                        <h4>3.60</h4>
                        <span>CGPA</span>
                    </div>
                    <div class="stat-item">
                        <h4>3+</h4>
                        <span>Years Exp</span>
                    </div>
                </div>
            </div>

            <div class="grid-item reveal delay-100">
                <h3 style="font-size: 2rem; margin-bottom: 15px;">THE BIRTH OF THE FOOL</h3>
                <p data-i18n="aboutText" style="line-height: 1.8; color: var(--text-muted); margin-bottom: 20px;">
                    When I first stumbled into that unfamiliar place, I didn’t carry courage or wisdom—only shaky steps and a frightened heart, unsure of everything before me, scared not of the world… but of learning how to face it all alone.
                </p>
                </div>

            <div class="grid-item reveal delay-200" style="margin-top: 40px;">
                <div class="profile-frame" style="height: 250px; width: 80%;">
                    <span class="highlight-label" style="background: var(--primary); color: white;">First Semester</span>
                    <img src="images/smt1.jpg" alt="Soldering">
                </div>
            </div>

             <div class="grid-item reveal delay-200" style="margin-top: 40px;">
                <div class="profile-frame" style="height: 250px; width: 80%;">
                    <span class="highlight-label" style="background: var(--primary); color: white;">Second Semester</span>
                    <img src="https://images.unsplash.com/photo-1581092921461-eab62e97a783?auto=format&fit=crop&w=600&q=80" alt="Soldering">
                </div>
            </div>

        </div>
    </section>

    <section class="section-container" id="projects">
        <h2 class="section-header reveal" data-i18n="navProjects">PROJECTS</h2>
        <div class="project-grid" id="project-grid">
            <p>Loading Projects...</p>
        </div>
    </section>

    <section class="section-container" id="certificates">
        <h2 class="section-header reveal" data-i18n="navCert">CERTIFICATES</h2>
        <div class="project-grid" id="cert-grid">
            <p>Loading Certificates...</p>
        </div>
    </section>

    <footer id="contact" class="reveal">
        <div class="footer-content">
            <div>
                <div class="logo-container" style="height: 150px;">
                    <img src="images/logofull2.png" alt="Get In Touch" class="logo-img logo-light">
                    <img src="images/logofull3.png" alt="Get In Touch" class="logo-img logo-dark">
                </div>

                <p style="margin-bottom: 20px;" data-i18n="contactText">Interested in collaborating or have a question? Feel free to reach out.</p>
                
                <a id="email-btn" href="#" class="cta-btn">
                    <i class="fas fa-envelope"></i> EMAIL ME
                </a>

                <div class="social-bar">
                    <a href="#" class="social-icon"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            
            <div style="text-align: right;" class="footer-links-container">
                <div class="footer-links">
                    <a href="#hero">HOME</a>
                    <a href="#about">ABOUT</a>
                    <a href="#projects">WORK</a>
                </div>
            </div>
        </div>

        <div class="copyright-section">
            <p>&copy; 2025 Dimas Dzikra.</p>
        </div>
    </footer>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-modal-content" onclick="closeModalFunc()">&times;</span>
            <img src="" alt="" class="modal-img" id="m-img">
            <div class="modal-body">
                <h2 id="m-title" style="margin-bottom:10px; font-family:'Oswald'; font-size:2rem;">Title</h2>
                <div style="margin-bottom:20px; border-bottom:1px solid var(--border); padding-bottom:10px;">
                    <strong data-i18n="modalRole">Role:</strong> <span id="m-role">...</span> | 
                    <strong data-i18n="modalTech">Tech:</strong> <span id="m-tools">...</span>
                </div>
                <p id="m-desc" style="line-height:1.6;">Description...</p>
                <br>
                <a href="#" id="m-link" class="cta-btn" target="_blank" style="display:inline-block; font-size:1rem;">VISIT LINK</a>
            </div>
        </div>
    </div>

    <script>
        // --- 1. LOADER LOGIC ---
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            setTimeout(() => {
                loader.classList.add('hidden');
                document.body.classList.remove('loading');
            }, 2500); 
        });

        // --- 2. REVEAL ANIMATION ---
        const observerOptions = {
            threshold: 0.15, 
            rootMargin: "0px 0px -50px 0px" 
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active'); 
                } else {
                    entry.target.classList.remove('active'); 
                }
            });
        }, observerOptions);

        function observeElements() {
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        // --- 3. SIDEBAR TOGGLE ---
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        // --- 4. DATA & TRANSLATIONS ---
        let projectsData = [];
        let certsData = [];

        const translations = {
            en: {
                tagline: "Redefining the limits of hardware and software integration.",
                btnProjects: "VIEW PROJECTS",
                navAbout: "ABOUT ME",
                navProjects: "PROJECTS",
                navCert: "CERTIFICATES",
                aboutText: "When I first stumbled into that unfamiliar place, I didn’t carry courage or wisdom—only shaky steps and a frightened heart, unsure of everything before me, scared not of the world… but of learning how to face it all alone.",
                modalRole: "Role / Issuer",
                modalTech: "Tools / Date",
                contactText: "Interested in collaborating or have a question? Feel free to reach out."
            },
            id: {
                tagline: "Mendefinisikan ulang batasan integrasi perangkat keras dan lunak.",
                btnProjects: "LIHAT PROYEK",
                navAbout: "TENTANG SAYA",
                navProjects: "PROYEK",
                navCert: "SERTIFIKAT",
                aboutText: "Saat pertama kali aku tersandung masuk ke tempat asing itu, aku tidak membawa keberanian atau kebijaksanaan—hanya langkah yang gemetar dan hati yang ketakutan, tak yakin tentang apa pun di hadapanku, bukan takut pada dunia… tetapi pada bagaimana caranya menghadapi semuanya seorang diri.",
                modalRole: "Peran / Penerbit",
                modalTech: "Alat / Tanggal",
                contactText: "Tertarik untuk berkolaborasi atau punya pertanyaan? Jangan ragu untuk menghubungi."
            }
        };

        let currentLang = localStorage.getItem('lang') || 'en';
        let currentTheme = localStorage.getItem('theme') || 'light';

        const htmlEl = document.documentElement;
        const themeBtn = document.getElementById('theme-toggle');
        const langBtn = document.getElementById('lang-toggle');
        const modal = document.getElementById('modal');

        function init() {
            setTheme(currentTheme);
            setLanguage(currentLang);
            
            observeElements(); // Start Observing static elements

            fetch('data.json')
                .then(res => res.json())
                .then(data => {
                    if(data.profile) {
                        if(data.profile.cv_url) document.getElementById('cv-btn').href = data.profile.cv_url;
                        if(data.profile.email) document.getElementById('email-btn').href = "mailto:" + data.profile.email;
                    }
                    projectsData = data.projects;
                    certsData = data.certificates;
                    renderProjects();
                    renderCerts();
                })
                .catch(err => {
                    document.getElementById('project-grid').innerHTML = 'Run via Live Server to load data.';
                });
        }

        function setTheme(theme) {
            htmlEl.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            currentTheme = theme;
            themeBtn.innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        }

        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            langBtn.textContent = lang === 'en' ? 'ID' : 'EN';
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang][key]) el.innerText = translations[lang][key];
            });

            if(projectsData.length > 0) { renderProjects(); renderCerts(); }
        }

        themeBtn.onclick = () => setTheme(currentTheme === 'light' ? 'dark' : 'light');
        langBtn.onclick = () => setLanguage(currentLang === 'en' ? 'id' : 'en');

        function renderProjects() {
            const container = document.getElementById('project-grid');
            container.innerHTML = projectsData.map((p, index) => `
                <div class="card reveal delay-${(index % 3) + 1}00" onclick="openModal('project', ${p.id})">
                    <div class="card-img-wrapper">
                        <img src="${p.img}" class="card-img" alt="${p.title}">
                    </div>
                    <div class="card-body">
                        <div>
                            <div class="card-title">${p.title}</div>
                            <div class="card-tags">${p.tools}</div>
                        </div>
                        <div class="card-desc">${currentLang === 'en' ? p.desc_en.substring(0, 60)+'...' : p.desc_id.substring(0, 60)+'...'}</div>
                    </div>
                </div>
            `).join('');
            
            observeElements();
        }

        function renderCerts() {
            const container = document.getElementById('cert-grid');
            container.innerHTML = certsData.map((c, index) => `
                <div class="card reveal delay-${(index % 3) + 1}00" onclick="openModal('cert', ${c.id})">
                    <div class="card-img-wrapper">
                        <img src="${c.img}" class="card-img" alt="${c.title}">
                    </div>
                    <div class="card-body">
                        <div class="card-title">${c.title}</div>
                        <div class="card-tags">${c.issuer} • ${c.date}</div>
                    </div>
                </div>
            `).join('');
            
            observeElements();
        }

        window.openModal = function(type, id) {
            const data = type === 'project' ? projectsData.find(p => p.id === id) : certsData.find(c => c.id === id);
            if(!data) return;

            const t = translations[currentLang];
            document.getElementById('m-img').src = data.img;
            document.getElementById('m-title').innerText = data.title;
            document.getElementById('m-desc').innerText = currentLang === 'en' ? data.desc_en : data.desc_id;
            document.getElementById('m-link').href = data.link;

            if(type === 'project') {
                document.getElementById('m-role').innerText = currentLang === 'en' ? data.role_en : data.role_id;
                document.getElementById('m-tools').innerText = data.tools;
            } else {
                document.getElementById('m-role').innerText = data.issuer;
                document.getElementById('m-tools').innerText = data.date;
            }
            modal.classList.add('active');
        };

        function closeModalFunc() { modal.classList.remove('active'); }
        modal.onclick = (e) => { if (e.target === modal) modal.classList.remove('active'); };

        // --- 4. 3D TILT EFFECT (HERO) ---
        const heroContainer = document.getElementById('hero-tilt');
        const heroImg = heroContainer.querySelector('img');

        heroContainer.addEventListener('mousemove', (e) => {
            const rect = heroContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const xPct = (x / rect.width) - 0.5;
            const yPct = (y / rect.height) - 0.5;
            const rotateX = yPct * -30; 
            const rotateY = xPct * 30;
            heroImg.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
        });

        heroContainer.addEventListener('mouseleave', () => {
            heroImg.style.transform = `rotateX(0deg) rotateY(0deg) scale(1)`;
        });

        // --- 5. NAVBAR SCROLL EFFECT ---
        let lastScrollY = window.scrollY;
        const navbar = document.getElementById('navbar');
        
        window.addEventListener('scroll', () => {
            if(window.scrollY > lastScrollY && window.scrollY > 100) {
                // navbar.classList.add('hidden'); // REMOVED THIS LINE
            } else {
                navbar.classList.remove('hidden'); 
            }
            lastScrollY = window.scrollY;
        });

        init();
    </script>
</body>
</html>